# 生产环境配置

app:
  env: prod

# CORS 配置（生产环境 - 必须从环境变量配置）
spring:
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:}
  # JPA 配置（生产环境关闭 SQL 日志，防止敏感信息泄露）
  jpa:
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        use_sql_comments: false

# 安全配置（生产环境）
spring:
  security:
    jwt:
      # JWT 存储方式（生产环境必须明确配置）
      use-cookie: ${SECURITY_JWT_USE_COOKIE:false}

# 日志配置（生产环境隐藏敏感信息）
logging:
  level:
    root: WARN
    com.adminplus: WARN
    org.springframework.security: ERROR
    org.hibernate.SQL: ERROR
    org.hibernate.type.descriptor.sql.BasicBinder: ERROR
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %level - %logger{36} - %msg%n"

# Actuator 配置（生产环境限制访问）
management:
  endpoints:
    web:
      exposure:
        include: health
      base-path: /actuator
  endpoint:
    health:
      show-details: never
      show-components: never
  endpoint.health.probes.enabled: true